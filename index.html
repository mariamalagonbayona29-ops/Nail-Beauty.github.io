<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>NAIL BEAUTY - Inicio</title>
<style>
:root{--bg:#faf9fd;--lav-1:#f7f2fc;--lav-2:#d4baf7;--lav-3:#a678e0;--lav-4:#6c3bbd;--card-bg:#fff;--text:#221c2b;--muted:#6f6a7d;}
*{box-sizing:border-box}
body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;color:var(--text);background:var(--bg);}
header{position:relative;height:100vh;display:flex;align-items:center;justify-content:center;color:white;overflow:hidden;}
.header-bg{position:absolute;top:0;left:0;width:100%;height:100%;background-image:url('WhatsApp Image 2025-10-06 at 2.55.09 PM.jpeg');background-size:cover;background-position:center;filter:blur(8px) brightness(0.7);transform:scale(1.1);}
.header-overlay{position:relative;z-index:2;text-align:center;padding:20px;background:rgba(166,120,224,0.3);backdrop-filter:blur(10px);border-radius:20px;margin:20px;max-width:800px;}
.header-overlay h1{margin:0;font-size:3.5rem;letter-spacing:2px;text-shadow:2px 2px 4px rgba(0,0,0,0.5);}
.header-overlay p{font-size:1.3rem;opacity:.95;margin-top:15px;text-shadow:1px 1px 2px rgba(0,0,0,0.5);}
.scroll-indicator{position:absolute;bottom:30px;left:50%;transform:translateX(-50%);color:white;font-size:2rem;animation:bounce 2s infinite;}
@keyframes bounce{0%,20%,50%,80%,100%{transform:translateY(0) translateX(-50%);}40%{transform:translateY(-10px) translateX(-50%);}60%{transform:translateY(-5px) translateX(-50%);}}
.container{max-width:1100px;margin:0 auto 40px;padding:0 16px}
.card{background:var(--card-bg);padding:18px;border-radius:12px;box-shadow:0 10px 30px rgba(11,7,20,0.06);}
.main-nav{display:flex;justify-content:space-between;gap:8px;background:#fff;padding:10px;border-radius:12px;margin-bottom:18px;align-items:center;position:sticky;top:10px;z-index:50;}
.main-nav .left{display:flex;gap:8px;flex-wrap:wrap;}
.main-nav button{background:transparent;border:none;padding:10px 14px;border-radius:8px;font-weight:600;color:var(--text);cursor:pointer;position:relative}
.main-nav button.active{color:var(--lav-4)}
.main-nav button.active::after{content:'';position:absolute;left:12px;right:12px;bottom:-10px;height:3px;background:linear-gradient(90deg,var(--lav-3),var(--lav-4));border-radius:4px;}
.grid{display:grid;grid-template-columns:1fr 380px;gap:20px}
@media(max-width:900px){.grid{grid-template-columns:1fr}}
h2{color:var(--lav-3);margin-top:0}
.small-muted{color:var(--muted)}

/* Home Section */
.welcome-section{text-align:center;padding:40px 0}
.welcome-section h2{font-size:2rem;margin-bottom:20px}
.welcome-section p{font-size:1.1rem;max-width:600px;margin:0 auto 30px;line-height:1.6}
.features-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(250px, 1fr));gap:20px;margin-top:40px}
.feature-card{background:var(--card-bg);padding:25px;border-radius:12px;text-align:center;box-shadow:0 5px 15px rgba(0,0,0,0.08);transition:transform 0.3s}
.feature-card:hover{transform:translateY(-5px)}
.feature-icon{font-size:2.5rem;margin-bottom:15px}
.feature-card h3{color:var(--lav-4);margin-bottom:10px}

/* Services */
.service-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
@media(max-width:700px){.service-grid{grid-template-columns:1fr}}
.service-btn{padding:12px;border-radius:10px;border:none;background:var(--lav-3);color:#fff;font-weight:700;cursor:pointer}
.service-btn:hover{background:var(--lav-4)}
.service-modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.5);align-items:center;justify-content:center;z-index:60}
.service-modal .modal-content{background:#fff;padding:18px;border-radius:12px;max-width:560px;width:92%;position:relative}
.service-modal .close{position:absolute;right:14px;top:10px;border:none;background:transparent;font-size:26px;color:var(--lav-4);cursor:pointer}
.service-img{width:100%;border-radius:10px;margin-top:10px;max-height:300px;object-fit:cover;}

/* Galer√≠a de Servicios */
.service-gallery {
  margin: 15px 0;
}

.service-gallery-main {
  margin-bottom: 10px;
}

.service-gallery-thumbs {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  justify-content: center;
}

.service-thumb {
  width: 60px;
  height: 60px;
  border-radius: 6px;
  cursor: pointer;
  object-fit: cover;
  border: 2px solid transparent;
  transition: all 0.3s;
}

.service-thumb:hover {
  transform: scale(1.1);
}

.service-thumb.active {
  border-color: var(--lav-4);
}

/* Gallery */
.gal-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:18px;margin-top:12px}
@media(max-width:700px){.gal-grid{grid-template-columns:1fr}}
.gal-card{border-radius:12px;overflow:hidden;box-shadow:0 8px 30px rgba(11,7,20,0.07);background:#fff}
.gal-card img{width:100%;height:100%;object-fit:cover;display:block;cursor:pointer}
.gallery-modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.85);z-index:80;align-items:center;justify-content:center}
.gallery-inner{position:relative;max-width:900px;width:94%;display:flex;align-items:center;justify-content:center}
.gallery-inner img{max-width:100%;max-height:80vh;border-radius:10px}
.gclose{position:absolute;right:-10px;top:-40px;background:transparent;border:none;color:#fff;font-size:34px;cursor:pointer}
.gprev,.gnext{position:absolute;top:50%;transform:translateY(-50%);background:rgba(255,255,255,0.08);border:none;color:#fff;font-size:28px;padding:12px;border-radius:8px;cursor:pointer}
.gprev{left:8px}.gnext{right:8px}

/* Forms */
form{display:flex;flex-direction:column;gap:10px}
input[type="text"],input[type="email"],input[type="date"],input[type="time"],input[type="password"],select,textarea{padding:12px;border-radius:8px;border:1px solid #ece7f8;font-size:15px;width:100%}
.form-centro{max-width:640px;margin:0 auto}
label.small{font-size:13px;color:var(--muted);display:block;margin-bottom:5px}
.required::after{content:" *";color:#e74c3c}
.form-group{margin-bottom:15px}
.upload-area{border:2px dashed var(--lav-2);border-radius:8px;padding:20px;text-align:center;cursor:pointer;transition:all 0.3s}
.upload-area:hover{background-color:var(--lav-1)}
.upload-area p{margin:0;color:var(--muted)}
.upload-preview{display:grid;grid-template-columns:repeat(auto-fill, minmax(100px, 1fr));gap:10px;margin-top:15px}
.upload-preview .preview-item{position:relative;border-radius:8px;overflow:hidden}
.upload-preview .preview-item img{width:100%;height:100px;object-fit:cover}
.upload-preview .preview-item .remove{position:absolute;top:5px;right:5px;background:rgba(0,0,0,0.7);color:white;border:none;border-radius:50%;width:20px;height:20px;font-size:12px;cursor:pointer;display:flex;align-items:center;justify-content:center}

/* Admin */
.admin-panel{display:none}
.admin-login{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.7);z-index:100;align-items:center;justify-content:center}
.admin-login .modal-content{background:#fff;padding:30px;border-radius:12px;max-width:400px;width:90%}
.panel-block{background:#fff;padding:12px;border-radius:10px;margin-top:12px}
table{width:100%;border-collapse:collapse}
th,td{padding:10px;border-bottom:1px solid #f5f3f8;text-align:left}
th{background:linear-gradient(90deg,var(--lav-3),var(--lav-4));color:#fff}
.small-btn{padding:6px 8px;border-radius:8px;border:none;cursor:pointer}

/* Utilities */
.btn{background:var(--lav-3);color:#fff;border:none;padding:10px 12px;border-radius:8px;cursor:pointer;transition:background 0.3s}
.btn:hover{background:var(--lav-4)}
.btn.ghost{background:transparent;border:1px solid var(--lav-2);color:var(--lav-4)}
.btn-danger{background:#e74c3c;color:white}
.btn-success{background:#2ecc71;color:white}
.center{text-align:center}
.error-message{color:#e74c3c;font-size:12px;margin-top:5px}
.success-message{color:#2ecc71;font-size:14px;margin-top:10px;text-align:center}
.status-badge{padding:4px 8px;border-radius:12px;font-size:0.75rem;font-weight:600;display:inline-block}
.status-pending{background:#fff3cd;color:#856404}
.status-confirmed{background:#d1ecf1;color:#0c5460}
.status-completed{background:#d4edda;color:#155724}
.status-cancelled{background:#f8d7da;color:#721c24}
.admin-access{position:absolute;right:20px;top:20px;z-index:60;}

/* Map */
.map-container{width:100%;height:300px;border-radius:8px;overflow:hidden;margin-top:15px}
.map-container iframe{width:100%;height:100%;border:none}

/* Social Media */
.social-links{display:flex;justify-content:center;gap:15px;margin-top:15px}
.social-link{display:flex;align-items:center;gap:8px;padding:10px 15px;background:var(--lav-1);border-radius:8px;text-decoration:none;color:var(--text);transition:all 0.3s}
.social-link:hover{background:var(--lav-2);transform:translateY(-2px)}

/* Seasonal Section Styles */
.seasonal-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
  margin-top: 20px;
}

.seasonal-card {
  background: var(--card-bg);
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 5px 15px rgba(0,0,0,0.08);
  transition: transform 0.3s;
  display: flex;
  flex-direction: column;
}

.seasonal-card:hover {
  transform: translateY(-5px);
}

.seasonal-image {
  height: 180px;
  overflow: hidden;
  background: var(--lav-1);
  display: flex;
  align-items: center;
  justify-content: center;
}

.seasonal-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.seasonal-card h3 {
  color: var(--lav-4);
  margin: 15px 15px 5px;
}

.seasonal-card p {
  margin: 5px 15px;
  font-size: 0.9rem;
  color: var(--muted);
  flex-grow: 1;
}

.seasonal-card .price {
  color: var(--lav-3);
  font-weight: bold;
  font-size: 1.1rem;
}

.seasonal-card .btn {
  margin: 15px;
}

.seasonal-info {
  margin-top: 30px;
}

@media (max-width: 700px) {
  .seasonal-grid {
    grid-template-columns: 1fr;
  }
}

/* Halloween Admin Styles */
.halloween-designs-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 15px;
  margin-top: 15px;
}

.halloween-design-item {
  border: 1px solid var(--lav-2);
  border-radius: 8px;
  overflow: hidden;
  position: relative;
}

.halloween-design-item img {
  width: 100%;
  height: 120px;
  object-fit: cover;
}

.halloween-design-info {
  padding: 10px;
}

.halloween-design-info h4 {
  margin: 0 0 5px;
  font-size: 0.9rem;
}

.halloween-design-info p {
  margin: 0;
  font-size: 0.8rem;
  color: var(--muted);
}

.halloween-design-actions {
  display: flex;
  justify-content: space-between;
  padding: 10px;
  background: var(--lav-1);
}

/* Gallery Admin Styles */
.gallery-admin-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 15px;
  margin-top: 15px;
}

.gallery-admin-item {
  border: 1px solid var(--lav-2);
  border-radius: 8px;
  overflow: hidden;
  position: relative;
}

.gallery-admin-item img {
  width: 100%;
  height: 120px;
  object-fit: cover;
}

.gallery-admin-info {
  padding: 10px;
}

.gallery-admin-info h4 {
  margin: 0 0 5px;
  font-size: 0.9rem;
}

.gallery-admin-actions {
  display: flex;
  justify-content: space-between;
  padding: 10px;
  background: var(--lav-1);
}

/* Service Admin Styles */
.service-admin-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 15px;
  margin-top: 15px;
}

.service-admin-item {
  border: 1px solid var(--lav-2);
  border-radius: 8px;
  overflow: hidden;
  position: relative;
}

.service-admin-item img {
  width: 100%;
  height: 150px;
  object-fit: cover;
}

.service-admin-info {
  padding: 10px;
}

.service-admin-info h4 {
  margin: 0 0 5px;
  font-size: 0.9rem;
}

.service-admin-info p {
  margin: 0;
  font-size: 0.8rem;
  color: var(--muted);
}

.service-admin-actions {
  display: flex;
  justify-content: space-between;
  padding: 10px;
  background: var(--lav-1);
}
</style>
</head>
<body>
<header>
  <div class="header-bg"></div>
  <div class="header-overlay">
    <h1>NAIL BEAUTY</h1>
    <p>Tu belleza en nuestras manos</p>
    <p>Descubre el arte de la manicura y pedicura profesional</p>
  </div>
  <div class="scroll-indicator">‚åÑ</div>
  <button class="btn admin-access" onclick="openAdminLogin()">Acceso Admin</button>
</header>
<div class="container">
  <div class="main-nav">
    <div class="left">
      <button class="active" onclick="showSection('home')">Inicio</button>
      <button onclick="showSection('services')">Servicios</button>
      <button onclick="showSection('seasonal')">U√±as de Temporada</button>
      <button onclick="showSection('gallery')">Galer√≠a</button>
      <button onclick="showSection('booking')">Reservas</button>
      <button onclick="showSection('check-appointment')">Mi Cita</button>
      <button id="adminTab" onclick="showSection('admin')" style="display:none">Admin</button>
      <button onclick="showSection('info')">Informaci√≥n</button>
    </div>
  </div>
  
  <div class="grid">
    <div>
      <!-- Home Section -->
      <div id="home" class="card">
        <div class="welcome-section">
          <h2>Bienvenida a Nail Beauty</h2>
          <p>En Nail Beauty nos especializamos en realzar tu belleza natural con servicios de manicura y pedicura de alta calidad. Nuestro equipo de profesionales est√° dedicado a brindarte una experiencia √∫nica y relajante.</p>
          
          <div class="features-grid">
            <div class="feature-card">
              <div class="feature-icon">üíÖ</div>
              <h3>Servicios Profesionales</h3>
              <p>U√±as acrilicas, Semipermanente, Ba√±o en acrilico, base ruber y press on</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">‚≠ê</div>
              <h3>Calidad Garantizada</h3>
              <p>Utilizamos productos de primera calidad y t√©cnicas profesionales para resultados duraderos</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">üë©‚Äçüíº</div>
              <h3>Expertas en Belleza</h3>
              <p>Nuestro equipo est√° capacitado para asesorarte y crear el dise√±o perfecto para ti</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">üíñ</div>
              <h3>Experiencia Personalizada</h3>
              <p>Cada servicio se adapta a tus preferencias y necesidades individuales</p>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Services Section -->
      <div id="services" class="card" style="display:none">
        <h2>Nuestros Servicios</h2>
        <div class="service-grid" id="servicesGrid">
          <!-- Los servicios se cargar√°n din√°micamente -->
        </div>
      </div>
      
      <!-- Seasonal Section -->
      <div id="seasonal" class="card" style="display:none">
        <h2>U√±as de Temporada - Halloween</h2>
        <p>Disfruta de nuestros dise√±os especiales de Halloween. ¬°Es temporada limitada!</p>
        
        <div class="seasonal-grid" id="seasonalDesignsGrid">
          <!-- Los dise√±os de Halloween se cargar√°n aqu√≠ din√°micamente -->
        </div>
        
        <div class="seasonal-info">
          <h3>Informaci√≥n Importante</h3>
          <div class="panel-block">
            <p><strong>Disponibilidad:</strong> Solo durante el mes de octubre</p>
            <p><strong>Duraci√≥n:</strong> Aproximadamente 1.5-2 horas</p>
            <p><strong>Incluye:</strong> Dise√±o especial + decoraci√≥n tem√°tica + sellado profesional</p>
            <p><strong>Nota:</strong> Los dise√±os pueden personalizarse seg√∫n tus preferencias</p>
          </div>
        </div>
      </div>
      
      <!-- Gallery Section -->
      <div id="gallery" class="card" style="display:none">
        <h2>Galer√≠a de Trabajos</h2>
        <p>Explora algunos de nuestros trabajos m√°s recientes y encuentra inspiraci√≥n para tu pr√≥ximo dise√±o.</p>
        <div class="gal-grid" id="galleryGrid">
          <!-- Las im√°genes de la galer√≠a se cargar√°n din√°micamente -->
        </div>
      </div>
      
      <!-- Booking Section -->
      <div id="booking" class="card" style="display:none">
        <h2>Reserva tu Cita</h2>
        <p>Programa tu cita con nosotros y disfruta de una experiencia de belleza excepcional.</p>
        <div class="form-centro">
          <form id="bookingForm" onsubmit="submitBooking(event)">
            <div class="form-group">
              <label for="name" class="small required">Nombre completo</label>
              <input type="text" id="name" name="name" required oninput="validateName(this)">
              <div class="error-message" id="nameError"></div>
            </div>
            
            <div class="form-group">
              <label for="email" class="small required">Correo electr√≥nico</label>
              <input type="email" id="email" name="email" required oninput="validateEmail(this)">
              <div class="error-message" id="emailError"></div>
            </div>
            
            <div class="form-group">
              <label for="phone" class="small required">Tel√©fono</label>
              <input type="text" id="phone" name="phone" required oninput="validatePhone(this)">
              <div class="error-message" id="phoneError"></div>
            </div>
            
            <div class="form-group">
              <label for="service" class="small required">Servicio</label>
              <select id="service" name="service" required>
                <option value="">Selecciona un servicio</option>
                <!-- Las opciones se cargar√°n din√°micamente -->
              </select>
              <div class="error-message" id="serviceError"></div>
            </div>
            
            <div class="form-group">
              <label for="date" class="small required">Fecha</label>
              <input type="date" id="date" name="date" required>
              <div class="error-message" id="dateError"></div>
            </div>
            
            <div class="form-group">
              <label for="time" class="small required">Hora</label>
              <input type="time" id="time" name="time" required>
              <div class="error-message" id="timeError"></div>
            </div>
            
            <div class="form-group">
              <label for="notes" class="small">Notas adicionales</label>
              <textarea id="notes" name="notes" rows="3" placeholder="Especificaciones especiales, alergias, etc."></textarea>
            </div>
            
            <button type="submit" class="btn">Reservar Cita</button>
          </form>
        </div>
      </div>
      
      <!-- Check Appointment Section -->
      <div id="check-appointment" class="card" style="display:none">
        <h2>Consulta tu Cita</h2>
        <p>Ingresa tu correo electr√≥nico para consultar el estado de tu reserva.</p>
        <div class="form-centro">
          <form id="checkAppointmentForm" onsubmit="checkAppointment(event)">
            <div class="form-group">
              <label for="checkEmail" class="small required">Correo electr√≥nico</label>
              <input type="email" id="checkEmail" name="checkEmail" required>
              <div class="error-message" id="checkEmailError"></div>
            </div>
            
            <button type="submit" class="btn">Consultar Cita</button>
          </form>
          
          <div id="appointmentResult" style="display:none; margin-top: 20px;">
            <!-- Los resultados se mostrar√°n aqu√≠ -->
          </div>
        </div>
      </div>
      
      <!-- Admin Section -->
      <div id="admin" class="card admin-panel">
        <h2>Panel de Administraci√≥n</h2>
        
        <!-- Configuraci√≥n de Credenciales -->
        <div class="panel-block">
          <h3>Configuraci√≥n de Acceso</h3>
          <div class="form-group">
            <h4>Cambiar Usuario y Contrase√±a</h4>
            <form id="credentialsForm" onsubmit="updateCredentials(event)">
              <div class="form-group">
                <label class="small required">Nuevo Usuario</label>
                <input type="text" id="newUsername" required>
              </div>
              
              <div class="form-group">
                <label class="small required">Nueva Contrase√±a</label>
                <input type="password" id="newPassword" required>
              </div>
              
              <div class="form-group">
                <label class="small required">Confirmar Contrase√±a</label>
                <input type="password" id="confirmPassword" required>
              </div>
              
              <button type="submit" class="btn">Actualizar Credenciales</button>
            </form>
          </div>
        </div>
        
        <!-- Gesti√≥n de Citas -->
        <div class="panel-block">
          <h3>Citas Agendadas</h3>
          <table id="appointmentsTable">
            <thead>
              <tr>
                <th>Cliente</th>
                <th>Email</th>
                <th>Servicio</th>
                <th>Fecha</th>
                <th>Hora</th>
                <th>Estado</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody>
              <!-- Las citas se cargar√°n din√°micamente -->
            </tbody>
          </table>
        </div>
        
        <!-- Gesti√≥n de Servicios -->
        <div class="panel-block">
          <h3>Gesti√≥n de Servicios</h3>
          
          <!-- Formulario para agregar servicio -->
          <div class="form-group">
            <h4>Agregar Nuevo Servicio</h4>
            <form id="serviceForm" onsubmit="saveService(event)">
              <div class="form-group">
                <label class="small required">Nombre del Servicio</label>
                <input type="text" id="serviceName" required>
              </div>
              
              <div class="form-group">
                <label class="small required">Descripci√≥n</label>
                <textarea id="serviceDescription" required rows="3"></textarea>
              </div>
              
              <div class="form-group">
                <label class="small required">Precio</label>
                <input type="number" id="servicePrice" required>
              </div>
              
              <div class="form-group">
                <label class="small required">Im√°genes del Servicio</label>
                <div class="upload-area" onclick="document.getElementById('serviceImages').click()">
                  <p>Haz clic para seleccionar im√°genes (m√∫ltiples)</p>
                  <input type="file" id="serviceImages" accept="image/*" style="display:none" onchange="previewServiceImages(event)" multiple required>
                </div>
                <div id="serviceImagesPreview" class="upload-preview" style="margin-top: 10px;"></div>
              </div>
              
              <button type="submit" class="btn">Guardar Servicio</button>
            </form>
          </div>
          
          <!-- Lista de servicios existentes -->
          <div style="margin-top: 30px;">
            <h4>Servicios Existentes</h4>
            <div class="service-admin-grid" id="servicesAdminList">
              <!-- Los servicios se cargar√°n aqu√≠ -->
            </div>
          </div>
        </div>
        
        <!-- Gesti√≥n de Halloween -->
        <div class="panel-block">
          <h3>Gesti√≥n de U√±as de Temporada - Halloween</h3>
          
          <!-- Formulario para agregar dise√±o -->
          <div class="form-group">
            <h4>Agregar Nuevo Dise√±o</h4>
            <form id="halloweenForm" onsubmit="saveHalloweenDesign(event)">
              <div class="form-group">
                <label class="small required">Nombre del Dise√±o</label>
                <input type="text" id="designName" required>
              </div>
              
              <div class="form-group">
                <label class="small required">Descripci√≥n</label>
                <textarea id="designDescription" required rows="2"></textarea>
              </div>
              
              <div class="form-group">
                <label class="small required">Precio</label>
                <input type="number" id="designPrice" required>
              </div>
              
              <div class="form-group">
                <label class="small required">Imagen del Dise√±o</label>
                <div class="upload-area" onclick="document.getElementById('designImage').click()">
                  <p>Haz clic para seleccionar imagen</p>
                  <input type="file" id="designImage" accept="image/*" style="display:none" onchange="previewDesignImage(event)" required>
                </div>
                <div id="designImagePreview" style="margin-top: 10px;"></div>
              </div>
              
              <button type="submit" class="btn">Guardar Dise√±o</button>
            </form>
          </div>
          
          <!-- Lista de dise√±os existentes -->
          <div style="margin-top: 30px;">
            <h4>Dise√±os Existentes</h4>
            <div class="halloween-designs-grid" id="halloweenDesignsList">
              <!-- Los dise√±os se cargar√°n aqu√≠ -->
            </div>
          </div>
        </div>
        
        <!-- Gesti√≥n de Galer√≠a -->
        <div class="panel-block">
          <h3>Gesti√≥n de Galer√≠a</h3>
          
          <!-- Formulario para agregar imagen a la galer√≠a -->
          <div class="form-group">
            <h4>Agregar Nueva Imagen a la Galer√≠a</h4>
            <form id="galleryForm" onsubmit="saveGalleryImage(event)">
              <div class="form-group">
                <label class="small required">T√≠tulo de la Imagen</label>
                <input type="text" id="galleryImageTitle" required>
              </div>
              
              <div class="form-group">
                <label class="small">Descripci√≥n (opcional)</label>
                <textarea id="galleryImageDescription" rows="2"></textarea>
              </div>
              
              <div class="form-group">
                <label class="small required">Categor√≠a</label>
                <select id="galleryImageCategory" required>
                  <option value="">Selecciona una categor√≠a</option>
                  <option value="U√±as acr√≠licas">U√±as acr√≠licas</option>
                  <option value="Press on">Press on</option>
                  <option value="Ba√±o en acr√≠lico">Ba√±o en acr√≠lico</option>
                  <option value="Base Rubber">Base Rubber</option>
                  <option value="Semipermanente">Semipermanente</option>
                  <option value="Halloween">Halloween</option>
                  <option value="Otros">Otros</option>
                </select>
              </div>
              
              <div class="form-group">
                <label class="small required">Imagen</label>
                <div class="upload-area" onclick="document.getElementById('galleryImageFile').click()">
                  <p>Haz clic para seleccionar imagen</p>
                  <input type="file" id="galleryImageFile" accept="image/*" style="display:none" onchange="previewGalleryImage(event)" required>
                </div>
                <div id="galleryImagePreview" style="margin-top: 10px;"></div>
              </div>
              
              <button type="submit" class="btn">Guardar Imagen</button>
            </form>
          </div>
          
          <!-- Lista de im√°genes existentes -->
          <div style="margin-top: 30px;">
            <h4>Im√°genes en Galer√≠a</h4>
            <div class="gallery-admin-grid" id="galleryAdminList">
              <!-- Las im√°genes se cargar√°n aqu√≠ -->
            </div>
          </div>
        </div>
      </div>
      
      <!-- Information Section -->
      <div id="info" class="card" style="display:none">
        <h2>Informaci√≥n de Contacto</h2>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
          <div>
            <h3>Horario de Atenci√≥n</h3>
            <div class="panel-block">
              <p><strong>Lunes a Viernes:</strong> 9:00 - 19:00</p>
              <p><strong>S√°bados:</strong> 10:00 - 16:00</p>
              <p><strong>Domingos:</strong> Cerrado</p>
            </div>
            
            <h3 style="margin-top: 30px;">Nuestra Ubicaci√≥n</h3>
            <div class="panel-block">
              <p><strong>Direcci√≥n:</strong> Calle Principal 123, Ciudad</p>
              <p><strong>Barrio:</strong> La serafina</p>
              <p>Facil acceso, cerca de Jumbo 20 de Julio</p>
              
              <!-- Mapa de Google Maps -->
              <div class="map-container">
                <iframe src="https://www.google.com/maps/embed?pb=!4v1759790364155!6m8!1m7!1s3aJFJaOGF8IknNl_FHZjww!2m2!1d4.568210667390043!2d-74.09913035898374!3f298.678432070357!4f3.0966110380087883!5f0.7820865974627469" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
              </div>
            </div>
          </div>
          
          <div>
            <h3>Contacto</h3>
            <div class="panel-block">
              <p><strong>Tel√©fono:</strong> 350 396 6821</p> 
              <p><strong>WhatsApp:</strong> 350 396 6821</p>
            </div>
            
            <h3 style="margin-top: 30px;">Pol√≠ticas</h3>
            <div class="panel-block">
              <p><strong>Cancelaciones:</strong> Con 24 horas de anticipaci√≥n</p>
              <p><strong>Pagos:</strong> Efectivo y transferencias</p>
              <p><strong>Garant√≠a:</strong> 7 d√≠as en servicios de u√±as acr√≠licas y gel</p>
            </div>
          </div>
        </div>
        
        <div style="margin-top: 30px; text-align: center;">
          <h3>S√≠guenos en Redes Sociales</h3>
          <div class="social-links">
            <a href="https://www.instagram.com/nail_beauty2001/" target="_blank" class="social-link">
              <span>üì∑</span> Instagram
            </a>
            <a href="https://www.tiktok.com/@nailbeauty" target="_blank" class="social-link">
              <span>üéµ</span> TikTok
            </a>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Sidebar -->
    <div>
      <div id="homeSidebar">
        <div class="card">
          <h2>¬øNecesitas Ayuda?</h2>
          <p class="small-muted">No dudes en contactarnos si tienes alguna pregunta sobre nuestros servicios o necesitas asistencia con tu reserva.</p>
          <button class="btn" style="margin-top: 10px; width: 100%;" onclick="showSection('info')">Contactar</button>
        </div>
        
        <div class="card">
          <h2>Servicios Populares</h2>
          <ul style="padding-left: 20px;" id="popularServices">
            <!-- Los servicios populares se cargar√°n din√°micamente -->
          </ul>
        </div>
      </div>
      
      <div id="otherSidebar" style="display:none">
        <div class="card">
          <h2>¬øNecesitas Ayuda?</h2>
          <p class="small-muted">No dudes en contactarnos si tienes alguna pregunta sobre nuestros servicios o necesitas asistencia con tu reserva.</p>
          <button class="btn" style="margin-top: 10px; width: 100%;" onclick="showSection('info')">Contactar</button>
        </div>
        
        <div class="card">
          <h2>Servicios Populares</h2>
          <ul style="padding-left: 20px;" id="popularServicesOther">
            <!-- Los servicios populares se cargar√°n din√°micamente -->
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Service Modal -->
<div class="service-modal" id="serviceModal">
  <div class="modal-content">
    <button class="close" onclick="closeServiceModal()">&times;</button>
    <h2 id="modalServiceName"></h2>
    
    <!-- Galer√≠a de im√°genes del servicio -->
    <div class="service-gallery">
      <div class="service-gallery-main">
        <img id="modalServiceMainImage" src="" alt="" class="service-img">
      </div>
      <div class="service-gallery-thumbs" id="serviceGalleryThumbs">
        <!-- Las miniaturas se generar√°n din√°micamente -->
      </div>
    </div>
    
    <p id="modalServiceDescription"></p>
    <p><strong>Precio: $<span id="modalServicePrice"></span></strong></p>
    <button class="btn" onclick="closeServiceModal()">Cerrar</button>
    <button class="btn" style="margin-top: 10px;" onclick="bookThisService()">Reservar este Servicio</button>
  </div>
</div>

<!-- Gallery Modal -->
<div class="gallery-modal" id="galleryModal">
  <div class="gallery-inner">
    <button class="gclose" onclick="closeGallery()">&times;</button>
    <button class="gprev" onclick="changeGalleryImage(-1)">&#10094;</button>
    <img id="galleryImg" src="" alt="">
    <button class="gnext" onclick="changeGalleryImage(1)">&#10095;</button>
  </div>
</div>

<!-- Admin Login Modal -->
<div class="admin-login" id="adminLogin">
  <div class="modal-content">
    <h2>Acceso de Administrador</h2>
    <form id="loginForm" onsubmit="adminLogin(event)">
      <div class="form-group">
        <label for="adminUsername" class="small required">Usuario</label>
        <input type="text" id="adminUsername" required>
      </div>
      
      <div class="form-group">
        <label for="adminPassword" class="small required">Contrase√±a</label>
        <input type="password" id="adminPassword" required>
      </div>
      
      <div class="error-message" id="loginError"></div>
      
      <button type="submit" class="btn">Iniciar Sesi√≥n</button>
      <button type="button" class="btn ghost" onclick="closeAdminLogin()">Cancelar</button>
    </form>
  </div>
</div>

<script>
// =============================================
// CONFIGURACI√ìN INICIAL Y DATOS
// =============================================

// Cargar credenciales desde localStorage o usar valores por defecto
let adminCredentials = JSON.parse(localStorage.getItem('nailBeautyAdminCredentials')) || {
  username: 'admin',
  password: 'nailbeauty2023'
};

// Funci√≥n para cargar citas desde localStorage
function loadAppointments() {
  const storedAppointments = localStorage.getItem('nailBeautyAppointments');
  if (storedAppointments) {
    return JSON.parse(storedAppointments);
  } else {
    return [];
  }
}

// Funci√≥n para guardar citas en localStorage
function saveAppointments(appointments) {
  localStorage.setItem('nailBeautyAppointments', JSON.stringify(appointments));
}

// Inicializar citas
let appointments = loadAppointments();

// Gesti√≥n de servicios
let services = JSON.parse(localStorage.getItem('nailBeautyServices')) || [
  {
    id: 1,
    name: "U√±as acr√≠licas",
    description: "Extensiones artificiales creadas a partir de una mezcla de pol√≠mero en polvo y mon√≥mero l√≠quido que se adhieren a la u√±a natural para darles mayor longitud, grosor y resistencia.",
    price: 100000,
    images: ['acrilicas 1.jpeg', 'acrilicas 2.jpeg', 'acrilicas 3.jpeg', 'acrilicas 4.jpeg', 'acrilicas 5.jpeg', 'acrilicas 6.jpeg']
  },
  {
    id: 2,
    name: "Press on",
    description: "U√±as postizas de alta calidad que se adhieren temporalmente a tus u√±as naturales, perfectas para ocasiones especiales o cambio r√°pido de look.",
    price: 50000,
    images: ['Press on 1.jpeg', 'Press on 2.jpeg', 'Press on 3.jpeg', 'Press on 4.jpeg', 'Press on 5.jpeg', 'Press on 6.jpeg']
  },
  {
    id: 3,
    name: "Ba√±o en acr√≠lico",
    description: "T√©cnica que fortalece las u√±as naturales aplicando una capa delgada de acr√≠lico para darles mayor resistencia y durabilidad.",
    price: 80000,
    images: ['Ba√±o en acrilico 1.jpeg', 'Ba√±o en acrilico 2.jpeg', 'Ba√±o en acrilico 3.jpeg', 'Ba√±o en acrilico 4.jpeg', 'Ba√±o en acrilico 5.jpeg']
  },
  {
    id: 4,
    name: "Base Rubber",
    description: "Esmalte de gel que dura hasta 3 semanas con acabado brillante y resistencia superior.",
    price: 45000,
    images: ['Base Rubber 1.jpeg', 'Imagen 14.jpeg', 'Imagen 15.jpeg']
  },
  {
    id: 5,
    name: "Semipermanente",
    description: "T√©cnica especializada para cut√≠culas perfectas sin dolor ni cortes.",
    price: 35000,
    images: ['Semipermanente 1.jpeg', 'Semipermanente 2.jpeg', 'Semipermanente 3.jpeg', 'Semipermanente 4.jpeg', 'Semipermanente 5.jpeg', 'Semipermanente 6.jpeg']
  }
];

// Gesti√≥n de dise√±os de Halloween
let halloweenDesigns = JSON.parse(localStorage.getItem('nailBeautyHalloween')) || [
  {
    id: 1,
    name: "Dise√±o Calavera con telara√±a",
    description: "Dise√±o calavera con telara√±as.",
    price: 55000,
    image: "Dise√±o calavera con telara√±as.jpeg"
  },
  {
    id: 2,
    name: "Dise√±o Fantasmas",
    description: "Dise√±o con fantasmas.",
    price: 60000,
    image: "Dise√±o fantasmas.jpeg"
  },
  {
    id: 3,
    name: "Dise√±o Chicas super poderosas",
    description: "Dise√±o Chicas super poderosas.",
    price: 58000,
    image: "Dise√±o chicas super poderosas (1).jpeg"
  },
  {
    id: 4,
    name: "Dise√±o fantasma rosado",
    description: "Dise√±o fantasma rosado.",
    price: 62000,
    image: "Dise√±o fantasma rosado.jpeg"
  },
  {
    id: 5,
    name: "Dise√±o calavera negra",
    description: "Dise√±o calavera negra.",
    price: 62000,
    image: "Dise√±o calaveras.jpeg"
  }
];

// Gesti√≥n de galer√≠a de im√°genes
let galleryImages = JSON.parse(localStorage.getItem('nailBeautyGallery')) || [
  { id: 1, title: "U√±as acr√≠licas 1", description: "Hermoso dise√±o en u√±as acr√≠licas", category: "U√±as acr√≠licas", image: "Acrilicas 1.jpeg" },
  { id: 2, title: "U√±as acr√≠licas 2", description: "Dise√±o elegante en acr√≠lico", category: "U√±as acr√≠licas", image: "Acrilicas 2.jpeg" },
  { id: 3, title: "U√±as acr√≠licas 3", description: "Acr√≠lico con detalles dorados", category: "U√±as acr√≠licas", image: "Acrilicas 3.jpeg" },
  { id: 4, title: "U√±as acr√≠licas 4", description: "Dise√±o moderno en acr√≠lico", category: "U√±as acr√≠licas", image: "Acrilicas 4.jpeg" },
  { id: 5, title: "U√±as acr√≠licas 5", description: "Acr√≠lico franc√©s con toques de color", category: "U√±as acr√≠licas", image: "Acrilicas 5.jpeg" },
  { id: 6, title: "U√±as acr√≠licas 6", description: "Dise√±o art√≠stico en acr√≠lico", category: "U√±as acr√≠licas", image: "Acrilicas 6.jpeg" },
  { id: 7, title: "Press on 1", description: "U√±as press on elegantes", category: "Press on", image: "Press on 1.jpeg" },
  { id: 8, title: "Press on 2", description: "Press on con dise√±o floral", category: "Press on", image: "Press on 2.jpeg" },
  { id: 9, title: "Press on 3", description: "Press on de colores vibrantes", category: "Press on", image: "Press on 3.jpeg" },
  { id: 10, title: "Press on 4", description: "Press on con glitter", category: "Press on", image: "Press on 4.jpeg" },
  { id: 11, title: "Press on 5", description: "Press on dise√±o franc√©s", category: "Press on", image: "Press on 5.jpeg" },
  { id: 12, title: "Ba√±o en acr√≠lico 1", description: "Ba√±o en acr√≠lico natural", category: "Ba√±o en acr√≠lico", image: "Ba√±o en acrilico 1.jpeg" },
  { id: 13, title: "Ba√±o en acr√≠lico 2", description: "Ba√±o en acr√≠lico con dise√±o", category: "Ba√±o en acr√≠lico", image: "Ba√±o en acrilico 2.jpeg" },
  { id: 14, title: "Ba√±o en acr√≠lico 3", description: "Ba√±o en acr√≠lico franc√©s", category: "Ba√±o en acr√≠lico", image: "Ba√±o en acrilico 3.jpeg" },
  { id: 15, title: "Ba√±o en acr√≠lico 4", description: "Ba√±o en acr√≠lico colorido", category: "Ba√±o en acr√≠lico", image: "Ba√±o en acrilico 4.jpeg" },
  { id: 16, title: "Ba√±o en acr√≠lico 5", description: "Ba√±o en acr√≠lico con detalles", category: "Ba√±o en acr√≠lico", image: "Ba√±o en acrilico 5.jpeg" },
  { id: 17, title: "Base Rubber", description: "Base rubber de larga duraci√≥n", category: "Base Rubber", image: "Base Rubber 1.jpeg" }
];

let isAdmin = false;
let currentServiceToBook = "";
let currentGalleryIndex = 0;

// =============================================
// FUNCIONES DE NAVEGACI√ìN
// =============================================

// Navegaci√≥n entre secciones
function showSection(section) {
  document.querySelectorAll('.main-nav button').forEach(btn => {
    btn.classList.remove('active');
  });
  event.target.classList.add('active');
  
  document.getElementById('home').style.display = 'none';
  document.getElementById('services').style.display = 'none';
  document.getElementById('seasonal').style.display = 'none';
  document.getElementById('gallery').style.display = 'none';
  document.getElementById('booking').style.display = 'none';
  document.getElementById('check-appointment').style.display = 'none';
  document.getElementById('admin').style.display = 'none';
  document.getElementById('info').style.display = 'none';
  
  document.getElementById(section).style.display = 'block';
  
  // Actualizar secciones seg√∫n sea necesario
  if (section === 'admin' && isAdmin) {
    updateAppointmentsTable();
    updateServicesAdminList();
    updateHalloweenDesignsList();
    updateGalleryAdminList();
  }
  
  if (section === 'seasonal') {
    updateHalloweenSection();
  }
  
  if (section === 'gallery') {
    updateGallerySection();
  }
  
  if (section === 'services') {
    updateServicesSection();
  }
  
  // Manejar la visibilidad de las sidebars
  if (section === 'home') {
    document.getElementById('homeSidebar').style.display = 'block';
    document.getElementById('otherSidebar').style.display = 'none';
  } else {
    document.getElementById('homeSidebar').style.display = 'none';
    document.getElementById('otherSidebar').style.display = 'block';
  }
}

// =============================================
// GESTI√ìN DE SERVICIOS
// =============================================

// Actualizar secci√≥n de servicios
function updateServicesSection() {
  const servicesGrid = document.getElementById('servicesGrid');
  if (servicesGrid) {
    servicesGrid.innerHTML = '';
    
    services.forEach(service => {
      const button = document.createElement('button');
      button.className = 'service-btn';
      button.textContent = service.name;
      button.onclick = () => openServiceModal(service.name, service.description, service.price, service.images);
      servicesGrid.appendChild(button);
    });
  }
}

// Actualizar lista de servicios en admin
function updateServicesAdminList() {
  const servicesList = document.getElementById('servicesAdminList');
  if (servicesList) {
    servicesList.innerHTML = '';
    
    services.forEach(service => {
      servicesList.innerHTML += `
        <div class="service-admin-item">
          <img src="${service.images[0]}" alt="${service.name}">
          <div class="service-admin-info">
            <h4>${service.name}</h4>
            <p>$${service.price.toLocaleString()}</p>
            <p>${service.description.substring(0, 100)}...</p>
          </div>
          <div class="service-admin-actions">
            <button class="small-btn btn-danger" onclick="deleteService(${service.id})">Eliminar</button>
          </div>
        </div>
      `;
    });
  }
}

// Guardar nuevo servicio
function saveService(event) {
  event.preventDefault();
  
  const name = document.getElementById('serviceName').value;
  const description = document.getElementById('serviceDescription').value;
  const price = parseInt(document.getElementById('servicePrice').value);
  const imageFiles = document.getElementById('serviceImages').files;
  
  if (imageFiles.length === 0) {
    alert('Por favor selecciona al menos una imagen');
    return;
  }
  
  // Convertir im√°genes a Base64
  const imagePromises = Array.from(imageFiles).map(file => {
    return new Promise((resolve) => {
      const reader = new FileReader();
      reader.onload = function(e) {
        resolve(e.target.result);
      };
      reader.readAsDataURL(file);
    });
  });
  
  Promise.all(imagePromises).then(images => {
    const newService = {
      id: services.length > 0 ? Math.max(...services.map(s => s.id)) + 1 : 1,
      name,
      description,
      price,
      images: images
    };
    
    services.push(newService);
    localStorage.setItem('nailBeautyServices', JSON.stringify(services));
    
    updateServicesSection();
    updateServicesAdminList();
    updateServiceOptions();
    updatePopularServices();
    
    alert('Servicio guardado exitosamente');
    document.getElementById('serviceForm').reset();
    document.getElementById('serviceImagesPreview').innerHTML = '';
  });
}

// Previsualizar im√°genes de servicio
function previewServiceImages(event) {
  const files = event.target.files;
  const preview = document.getElementById('serviceImagesPreview');
  preview.innerHTML = '';
  
  Array.from(files).forEach(file => {
    const reader = new FileReader();
    reader.onload = function(e) {
      const previewItem = document.createElement('div');
      previewItem.className = 'preview-item';
      previewItem.innerHTML = `
        <img src="${e.target.result}" alt="Preview">
        <button class="remove" onclick="this.parentElement.remove()">√ó</button>
      `;
      preview.appendChild(previewItem);
    };
    reader.readAsDataURL(file);
  });
}

// Eliminar servicio
function deleteService(id) {
  if (confirm('¬øEst√°s seguro de que quieres eliminar este servicio?')) {
    services = services.filter(service => service.id !== id);
    localStorage.setItem('nailBeautyServices', JSON.stringify(services));
    updateServicesSection();
    updateServicesAdminList();
    updateServiceOptions();
    updatePopularServices();
  }
}

// =============================================
// MODAL DE SERVICIOS
// =============================================

function openServiceModal(name, description, price, imageUrls) {
  document.getElementById('modalServiceName').textContent = name;
  document.getElementById('modalServiceDescription').textContent = description;
  document.getElementById('modalServicePrice').textContent = price.toLocaleString();
  
  const galleryThumbs = document.getElementById('serviceGalleryThumbs');
  const mainImage = document.getElementById('modalServiceMainImage');
  
  // Limpiar galer√≠a anterior
  galleryThumbs.innerHTML = '';
  
  // Mostrar im√°genes si est√°n disponibles
  if (imageUrls && imageUrls.length > 0) {
    // Mostrar primera imagen como principal
    mainImage.src = imageUrls[0];
    mainImage.style.display = 'block';
    
    // Crear miniaturas para todas las im√°genes
    imageUrls.forEach((imageUrl, index) => {
      const thumb = document.createElement('img');
      thumb.src = imageUrl;
      thumb.alt = `Imagen ${index + 1} de ${name}`;
      thumb.className = `service-thumb ${index === 0 ? 'active' : ''}`;
      thumb.onclick = () => {
        // Cambiar imagen principal
        mainImage.src = imageUrl;
        
        // Remover clase active de todas las miniaturas
        document.querySelectorAll('.service-thumb').forEach(t => t.classList.remove('active'));
        
        // Agregar clase active a la miniatura clickeada
        thumb.classList.add('active');
      };
      
      galleryThumbs.appendChild(thumb);
    });
  } else {
    // Ocultar galer√≠a si no hay im√°genes
    mainImage.style.display = 'none';
    galleryThumbs.style.display = 'none';
  }
  
  currentServiceToBook = name;
  document.getElementById('serviceModal').style.display = 'flex';
}

function closeServiceModal() {
  document.getElementById('serviceModal').style.display = 'none';
}

function bookThisService() {
  closeServiceModal();
  showSection('booking');
  document.getElementById('service').value = currentServiceToBook;
}

// =============================================
// GESTI√ìN DE HALLOWEEN
// =============================================

function updateHalloweenSection() {
  const seasonalGrid = document.getElementById('seasonalDesignsGrid');
  if (seasonalGrid) {
    seasonalGrid.innerHTML = '';
    
    halloweenDesigns.forEach(design => {
      seasonalGrid.innerHTML += `
        <div class="seasonal-card">
          <div class="seasonal-image">
            <img src="${design.image}" alt="${design.name}">
          </div>
          <h3>${design.name}</h3>
          <p>${design.description}</p>
          <p class="price">$${design.price.toLocaleString()}</p>
          <button class="btn" onclick="bookSeasonalService('${design.name}', ${design.price})">Reservar</button>
        </div>
      `;
    });
  }
}

function updateHalloweenDesignsList() {
  const designsList = document.getElementById('halloweenDesignsList');
  if (designsList) {
    designsList.innerHTML = '';
    
    halloweenDesigns.forEach(design => {
      designsList.innerHTML += `
        <div class="halloween-design-item">
          <img src="${design.image}" alt="${design.name}">
          <div class="halloween-design-info">
            <h4>${design.name}</h4>
            <p>$${design.price.toLocaleString()}</p>
          </div>
          <div class="halloween-design-actions">
            <button class="small-btn btn-danger" onclick="deleteHalloweenDesign(${design.id})">Eliminar</button>
          </div>
        </div>
      `;
    });
  }
}

function saveHalloweenDesign(event) {
  event.preventDefault();
  
  const name = document.getElementById('designName').value;
  const description = document.getElementById('designDescription').value;
  const price = parseInt(document.getElementById('designPrice').value);
  const imageFile = document.getElementById('designImage').files[0];
  
  if (!imageFile) {
    alert('Por favor selecciona una imagen');
    return;
  }
  
  const reader = new FileReader();
  reader.onload = function(e) {
    const newDesign = {
      id: halloweenDesigns.length > 0 ? Math.max(...halloweenDesigns.map(d => d.id)) + 1 : 1,
      name,
      description,
      price,
      image: e.target.result
    };
    
    halloweenDesigns.push(newDesign);
    localStorage.setItem('nailBeautyHalloween', JSON.stringify(halloweenDesigns));
    updateHalloweenSection();
    updateHalloweenDesignsList();
    updateServiceOptions();
    alert('Dise√±o guardado exitosamente');
    document.getElementById('halloweenForm').reset();
    document.getElementById('designImagePreview').innerHTML = '';
  };
  
  reader.readAsDataURL(imageFile);
}

function previewDesignImage(event) {
  const file = event.target.files[0];
  if (file) {
    const reader = new FileReader();
    reader.onload = function(e) {
      document.getElementById('designImagePreview').innerHTML = 
        `<img src="${e.target.result}" style="max-width: 200px; border-radius: 8px;">`;
    };
    reader.readAsDataURL(file);
  }
}

function deleteHalloweenDesign(id) {
  if (confirm('¬øEst√°s seguro de que quieres eliminar este dise√±o?')) {
    halloweenDesigns = halloweenDesigns.filter(design => design.id !== id);
    localStorage.setItem('nailBeautyHalloween', JSON.stringify(halloweenDesigns));
    updateHalloweenSection();
    updateHalloweenDesignsList();
    updateServiceOptions();
  }
}

// =============================================
// GESTI√ìN DE GALER√çA
// =============================================

function updateGallerySection() {
  const galleryGrid = document.getElementById('galleryGrid');
  if (galleryGrid) {
    galleryGrid.innerHTML = '';
    
    galleryImages.forEach((image, index) => {
      galleryGrid.innerHTML += `
        <div class="gal-card">
          <img src="${image.image}" alt="${image.title}" onclick="openGallery(${index})">
        </div>
      `;
    });
  }
}

function updateGalleryAdminList() {
  const galleryList = document.getElementById('galleryAdminList');
  if (galleryList) {
    galleryList.innerHTML = '';
    
    galleryImages.forEach(image => {
      galleryList.innerHTML += `
        <div class="gallery-admin-item">
          <img src="${image.image}" alt="${image.title}">
          <div class="gallery-admin-info">
            <h4>${image.title}</h4>
            <p>${image.category}</p>
          </div>
          <div class="gallery-admin-actions">
            <button class="small-btn btn-danger" onclick="deleteGalleryImage(${image.id})">Eliminar</button>
          </div>
        </div>
      `;
    });
  }
}

function saveGalleryImage(event) {
  event.preventDefault();
  
  const title = document.getElementById('galleryImageTitle').value;
  const description = document.getElementById('galleryImageDescription').value;
  const category = document.getElementById('galleryImageCategory').value;
  const imageFile = document.getElementById('galleryImageFile').files[0];
  
  if (!imageFile) {
    alert('Por favor selecciona una imagen');
    return;
  }
  
  const reader = new FileReader();
  reader.onload = function(e) {
    const newImage = {
      id: galleryImages.length > 0 ? Math.max(...galleryImages.map(img => img.id)) + 1 : 1,
      title,
      description,
      category,
      image: e.target.result
    };
    
    galleryImages.push(newImage);
    localStorage.setItem('nailBeautyGallery', JSON.stringify(galleryImages));
    updateGallerySection();
    updateGalleryAdminList();
    alert('Imagen guardada exitosamente en la galer√≠a');
    document.getElementById('galleryForm').reset();
    document.getElementById('galleryImagePreview').innerHTML = '';
  };
  
  reader.readAsDataURL(imageFile);
}

function previewGalleryImage(event) {
  const file = event.target.files[0];
  if (file) {
    const reader = new FileReader();
    reader.onload = function(e) {
      document.getElementById('galleryImagePreview').innerHTML = 
        `<img src="${e.target.result}" style="max-width: 200px; border-radius: 8px;">`;
    };
    reader.readAsDataURL(file);
  }
}

function deleteGalleryImage(id) {
  if (confirm('¬øEst√°s seguro de que quieres eliminar esta imagen de la galer√≠a?')) {
    galleryImages = galleryImages.filter(image => image.id !== id);
    localStorage.setItem('nailBeautyGallery', JSON.stringify(galleryImages));
    updateGallerySection();
    updateGalleryAdminList();
  }
}

// =============================================
// GESTI√ìN DE GALER√çA (VISUALIZACI√ìN)
// =============================================

function openGallery(index) {
  currentGalleryIndex = index;
  document.getElementById('galleryImg').src = galleryImages[index].image;
  document.getElementById('galleryModal').style.display = 'flex';
}

function closeGallery() {
  document.getElementById('galleryModal').style.display = 'none';
}

function changeGalleryImage(direction) {
  currentGalleryIndex += direction;
  
  if (currentGalleryIndex >= galleryImages.length) {
    currentGalleryIndex = 0;
  } else if (currentGalleryIndex < 0) {
    currentGalleryIndex = galleryImages.length - 1;
  }
  
  document.getElementById('galleryImg').src = galleryImages[currentGalleryIndex].image;
}

// =============================================
// RESERVAS Y CITAS
// =============================================

// Validaciones de campos
function validateName(input) {
  const nameRegex = /^[A-Za-z√Å√â√ç√ì√ö√°√©√≠√≥√∫√ë√±\s]+$/;
  const errorElement = document.getElementById('nameError');
  
  if (!nameRegex.test(input.value.trim())) {
    errorElement.textContent = 'El nombre solo puede contener letras y espacios';
    return false;
  } else {
    errorElement.textContent = '';
    return true;
  }
}

function validateEmail(input) {
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  const errorElement = document.getElementById('emailError');
  
  if (!emailRegex.test(input.value.trim())) {
    errorElement.textContent = 'Por favor ingresa un correo electr√≥nico v√°lido';
    return false;
  } else {
    errorElement.textContent = '';
    return true;
  }
}

function validatePhone(input) {
  const phoneRegex = /^[0-9+\-\s()]+$/;
  const errorElement = document.getElementById('phoneError');
  
  if (!phoneRegex.test(input.value.trim())) {
    errorElement.textContent = 'El tel√©fono solo puede contener n√∫meros y los caracteres + - ( )';
    return false;
  } else {
    errorElement.textContent = '';
    return true;
  }
}

// Gesti√≥n de reservas
function submitBooking(event) {
  event.preventDefault();
  
  const name = document.getElementById('name');
  const email = document.getElementById('email');
  const phone = document.getElementById('phone');
  const service = document.getElementById('service');
  const date = document.getElementById('date');
  const time = document.getElementById('time');
  
  let isValid = true;
  
  // Limpiar mensajes de error
  document.querySelectorAll('.error-message').forEach(el => {
    el.textContent = '';
  });
  
  // Validar campos
  if (!name.value.trim() || !validateName(name)) {
    document.getElementById('nameError').textContent = 'El nombre es obligatorio y solo puede contener letras';
    isValid = false;
  }
  
  if (!email.value.trim() || !validateEmail(email)) {
    document.getElementById('emailError').textContent = 'Ingresa un correo electr√≥nico v√°lido';
    isValid = false;
  }
  
  if (!phone.value.trim() || !validatePhone(phone)) {
    document.getElementById('phoneError').textContent = 'El tel√©fono es obligatorio y solo puede contener n√∫meros y caracteres telef√≥nicos';
    isValid = false;
  }
  
  if (!service.value) {
    document.getElementById('serviceError').textContent = 'Selecciona un servicio';
    isValid = false;
  }
  
  if (!date.value) {
    document.getElementById('dateError').textContent = 'Selecciona una fecha';
    isValid = false;
  }
  
  if (!time.value) {
    document.getElementById('timeError').textContent = 'Selecciona una hora';
    isValid = false;
  }
  
  if (isValid) {
    const newId = appointments.length > 0 ? Math.max(...appointments.map(a => a.id)) + 1 : 1;
    
    const newAppointment = {
      id: newId,
      client: name.value,
      email: email.value,
      phone: phone.value,
      service: service.value,
      date: date.value,
      time: time.value,
      notes: document.getElementById('notes').value,
      status: 'pending',
      createdAt: new Date().toISOString()
    };
    
    appointments.push(newAppointment);
    saveAppointments(appointments);
    
    if (isAdmin) {
      updateAppointmentsTable();
    }
    
    alert('¬°Reserva realizada con √©xito! Te contactaremos pronto para confirmar.');
    document.getElementById('bookingForm').reset();
  }
}

// Consultar cita
function checkAppointment(event) {
  event.preventDefault();
  
  const email = document.getElementById('checkEmail').value;
  const resultDiv = document.getElementById('appointmentResult');
  
  if (!email || !isValidEmail(email)) {
    document.getElementById('checkEmailError').textContent = 'Ingresa un correo electr√≥nico v√°lido';
    return;
  }
  
  const userAppointments = appointments.filter(apt => apt.email === email);
  
  if (userAppointments.length === 0) {
    resultDiv.innerHTML = '<div class="error-message">No se encontraron citas con este correo electr√≥nico.</div>';
  } else {
    let html = '<h3>Tus Citas:</h3>';
    
    userAppointments.forEach(apt => {
      html += `
        <div class="panel-block" style="margin-top: 10px;">
          <p><strong>Servicio:</strong> ${apt.service}</p>
          <p><strong>Fecha:</strong> ${formatDate(apt.date)}</p>
          <p><strong>Hora:</strong> ${apt.time}</p>
          <p><strong>Estado:</strong> <span class="status-badge status-${apt.status}">${getStatusText(apt.status)}</span></p>
        </div>
      `;
    });
    
    resultDiv.innerHTML = html;
  }
  
  resultDiv.style.display = 'block';
  document.getElementById('checkEmailError').textContent = '';
}

function isValidEmail(email) {
  const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return re.test(email);
}

// Funci√≥n para reservar servicio de temporada
function bookSeasonalService(serviceName, price) {
  currentServiceToBook = serviceName;
  showSection('booking');
  document.getElementById('service').value = serviceName;
  
  setTimeout(() => {
    alert(`¬°Perfecto! Has seleccionado ${serviceName}. Recuerda que este dise√±o especial de Halloween solo est√° disponible durante octubre.`);
  }, 500);
}

// =============================================
// ADMINISTRACI√ìN
// =============================================

// Gesti√≥n de credenciales
function updateCredentials(event) {
  event.preventDefault();
  
  const newUsername = document.getElementById('newUsername').value;
  const newPassword = document.getElementById('newPassword').value;
  const confirmPassword = document.getElementById('confirmPassword').value;
  
  if (newPassword !== confirmPassword) {
    alert('Las contrase√±as no coinciden');
    return;
  }
  
  adminCredentials.username = newUsername;
  adminCredentials.password = newPassword;
  
  localStorage.setItem('nailBeautyAdminCredentials', JSON.stringify(adminCredentials));
  
  alert('Credenciales actualizadas correctamente');
  document.getElementById('credentialsForm').reset();
}

// Login de administrador
function openAdminLogin() {
  document.getElementById('adminLogin').style.display = 'flex';
}

function closeAdminLogin() {
  document.getElementById('adminLogin').style.display = 'none';
  document.getElementById('loginError').textContent = '';
  document.getElementById('loginForm').reset();
}

function adminLogin(event) {
  event.preventDefault();
  
  const username = document.getElementById('adminUsername').value;
  const password = document.getElementById('adminPassword').value;
  
  if (username === adminCredentials.username && password === adminCredentials.password) {
    isAdmin = true;
    document.getElementById('adminTab').style.display = 'block';
    document.getElementById('admin').classList.remove('admin-panel');
    closeAdminLogin();
    showSection('admin');
    updateAppointmentsTable();
    updateServicesAdminList();
    updateHalloweenDesignsList();
    updateGalleryAdminList();
  } else {
    document.getElementById('loginError').textContent = 'Usuario o contrase√±a incorrectos';
  }
}

// Gesti√≥n de citas en admin
function updateAppointmentsTable() {
  const tbody = document.querySelector('#appointmentsTable tbody');
  tbody.innerHTML = '';
  
  const sortedAppointments = [...appointments].sort((a, b) => {
    const dateA = new Date(`${a.date}T${a.time}`);
    const dateB = new Date(`${b.date}T${b.time}`);
    return dateB - dateA;
  });
  
  sortedAppointments.forEach(appointment => {
    const row = document.createElement('tr');
    
    row.innerHTML = `
      <td>${appointment.client}</td>
      <td>${appointment.email}</td>
      <td>${appointment.service}</td>
      <td>${formatDate(appointment.date)}</td>
      <td>${appointment.time}</td>
      <td><span class="status-badge status-${appointment.status}">${getStatusText(appointment.status)}</span></td>
      <td>
        <button class="small-btn btn-success" onclick="changeAppointmentStatus(${appointment.id}, 'confirmed')">Confirmar</button>
        <button class="small-btn btn-success" onclick="changeAppointmentStatus(${appointment.id}, 'completed')">Completar</button>
        <button class="small-btn btn-danger" onclick="changeAppointmentStatus(${appointment.id}, 'cancelled')">Cancelar</button>
        <button class="small-btn btn-danger" onclick="deleteAppointment(${appointment.id})">Eliminar</button>
      </td>
    `;
    
    tbody.appendChild(row);
  });
}

function formatDate(dateString) {
  const options = { year: 'numeric', month: '2-digit', day: '2-digit' };
  return new Date(dateString).toLocaleDateString('es-ES', options);
}

function getStatusText(status) {
  const statusMap = {
    'pending': 'Pendiente',
    'confirmed': 'Confirmada',
    'completed': 'Completada',
    'cancelled': 'Cancelada'
  };
  
  return statusMap[status] || status;
}

function changeAppointmentStatus(id, newStatus) {
  const appointment = appointments.find(a => a.id === id);
  if (appointment) {
    appointment.status = newStatus;
    saveAppointments(appointments);
    updateAppointmentsTable();
  }
}

function deleteAppointment(id) {
  if (confirm('¬øEst√°s seguro de que quieres eliminar esta cita?')) {
    appointments = appointments.filter(a => a.id !== id);
    saveAppointments(appointments);
    updateAppointmentsTable();
  }
}

// =============================================
// FUNCIONES UTILITARIAS
// =============================================

// Actualizar opciones de servicios en formulario
function updateServiceOptions() {
  const serviceSelect = document.getElementById('service');
  serviceSelect.innerHTML = '<option value="">Selecciona un servicio</option>';
  
  // Agregar servicios regulares
  services.forEach(service => {
    const option = document.createElement('option');
    option.value = service.name;
    option.textContent = service.name;
    serviceSelect.appendChild(option);
  });
  
  // Agregar dise√±os de Halloween
  halloweenDesigns.forEach(design => {
    const option = document.createElement('option');
    option.value = design.name;
    option.textContent = design.name;
    serviceSelect.appendChild(option);
  });
}

// Actualizar servicios populares en sidebar
function updatePopularServices() {
  const popularServices = document.getElementById('popularServices');
  const popularServicesOther = document.getElementById('popularServicesOther');
  
  if (popularServices && popularServicesOther) {
    popularServices.innerHTML = '';
    popularServicesOther.innerHTML = '';
    
    // Mostrar primeros 5 servicios como populares
    services.slice(0, 5).forEach(service => {
      const li = document.createElement('li');
      li.textContent = service.name;
      popularServices.appendChild(li);
      popularServicesOther.appendChild(li.cloneNode(true));
    });
  }
}

// =============================================
// INICIALIZACI√ìN
// =============================================

document.addEventListener('DOMContentLoaded', function() {
  // Mostrar la secci√≥n de inicio por defecto
  showSection('home');
  
  // Actualizar todas las secciones
  updateServicesSection();
  updateHalloweenSection();
  updateGallerySection();
  updateServiceOptions();
  updatePopularServices();
  
  // Configurar fecha m√≠nima para reservas (hoy)
  const today = new Date().toISOString().split('T')[0];
  document.getElementById('date').min = today;
});
</script>
</body>
</html>
